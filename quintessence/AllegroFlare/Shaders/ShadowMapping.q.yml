parent_classes:


  - class: AllegroFlare::Shaders::Base
    scope: public
    init_with: "AllegroFlare::Shaders::ShadowMapping::TYPE"


properties:


  - name: TYPE
    type: char*
    init_with: '(char*)"AllegroFlare/Shaders/ShadowMapping"'
    static: true
    constexpr: true

  - name: vertex_source_filename
    type: char*
    init_with: '(char*)"/Users/markoates/Repos/Pipeline/tests/fixtures/shaders/start_vertex.glsl"'
    static: true
    constexpr: true

  - name: fragment_source_filename
    type: char*
    init_with: '(char*)"/Users/markoates/Repos/Pipeline/tests/fixtures/shaders/start_fragment.glsl"'
    static: true
    constexpr: true

  - name: initialized
    type: bool
    init_with: false


functions:


  - name: initialize
    type: void
    body: |
      set_vertex_source_code(obtain_vertex_source());
      set_fragment_source_code(obtain_fragment_source());

      if (!initialized) AllegroFlare::Shaders::Base::initialize();
      initialized = true;


  - name: activate
    type: void
    guards: [ initialized ]
    body: |
      AllegroFlare::Shaders::Base::activate();


  - name: obtain_vertex_source
    type: std::string
    static: true
    private: true
    xguards: [ 'std::filesystem::exists(vertex_source_filename)' ]
    body: |
      return AllegroFlare::php::file_get_contents(vertex_source_filename);
    body_dependency_symbols:
      - std::filesystem
      - AllegroFlare::UsefulPHP


  - name: obtain_fragment_source
    type: std::string
    static: true
    private: true
    guards: [ 'std::filesystem::exists(fragment_source_filename)' ]
    body: |
      return AllegroFlare::php::file_get_contents(fragment_source_filename);
    body_dependency_symbols:
      - std::filesystem
      - AllegroFlare::UsefulPHP


dependencies:


  - symbol: AllegroFlare::Shaders::Base
    headers: [ AllegroFlare/Shaders/Base.hpp ]
  - symbol: ALLEGRO_COLOR
    headers: [ allegro5/allegro.h ]
  - symbol: AllegroFlare::UsefulPHP
    headers: [ AllegroFlare/UsefulPHP.hpp ]


